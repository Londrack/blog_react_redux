(this.webpackJsonpblog_platzi=this.webpackJsonpblog_platzi||[]).push([[0],{43:function(e,r,t){},69:function(e,r,t){},70:function(e,r,t){},71:function(e,r,t){},72:function(e,r,t){"use strict";t.r(r);var a={};t.r(a),t.d(a,"traerTodos",(function(){return w}));var n={};t.r(n),t.d(n,"traerTodas",(function(){return te})),t.d(n,"cambioUsuarioId",(function(){return ae})),t.d(n,"cambioTitulo",(function(){return ne})),t.d(n,"agregar",(function(){return ce})),t.d(n,"editar",(function(){return oe})),t.d(n,"cambioCheck",(function(){return se})),t.d(n,"eliminar",(function(){return ie})),t.d(n,"limpiarForma",(function(){return ue}));var c=t(0),o=t(23),s=t.n(o),i=(t(43),t(13)),u=t(4),d=t(1),b=function(e){return Object(d.jsxs)("nav",{id:"menu",children:[Object(d.jsx)(i.b,{to:"/blog_react_redux/",children:"Usuarios"}),Object(d.jsx)(i.b,{to:"/blog_react_redux/tareas",children:"Tareas"})]})},p=t(15),l=t(16),j=t(18),O=t(17),h=t(6),f=t(5),m=t.n(f),x=t(11),y=t(14),v=t.n(y),g="usuarios_traer_todos",_="usuarios_cargando",k="usuarios_error",w=function(){return function(){var e=Object(x.a)(m.a.mark((function e(r){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:_}),e.prev=1,e.next=4,v.a.get("https://jsonplaceholder.typicode.com/users");case 4:t=e.sent,r({type:g,payload:t.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Error: ",e.t0.message),r({type:k,payload:"Informaci\xf3n de usuarios no disponible"});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}()},C=(t(69),function(){return Object(d.jsxs)("div",{className:"lds-ring",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})}),R=(t(70),function(e){return Object(d.jsx)("h2",{className:"error",children:e.mensaje})}),T=Object(h.b)((function(e){return e.usuariosReducer}))((function(e){return Object(d.jsxs)("table",{className:"tabla",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Nombre"}),Object(d.jsx)("th",{children:"Correo"}),Object(d.jsx)("th",{children:"Enlace"}),Object(d.jsx)("th",{})]})}),Object(d.jsx)("tbody",{children:e.usuarios.map((function(e,r){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.name}),Object(d.jsx)("td",{children:e.email}),Object(d.jsx)("td",{children:e.website}),Object(d.jsx)("td",{children:Object(d.jsx)(i.b,{to:"/blog_react_redux/publicaciones/".concat(r),children:Object(d.jsx)("div",{className:"eye-solid icon"})})})]},e.id)}))})]})})),I=(t(71),function(e){Object(j.a)(t,e);var r=Object(O.a)(t);function t(){var e;Object(p.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=r.call.apply(r,[this].concat(n))).ponerContenido=function(){return e.props.cargando?Object(d.jsx)(C,{}):e.props.error?Object(d.jsx)(R,{mensaje:e.props.error}):Object(d.jsx)(T,{})},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.usuarios.length||this.props.traerTodos()}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Usuarios"}),this.ponerContenido()]})}}]),t}(c.Component)),U=Object(h.b)((function(e){return e.usuariosReducer}),a)(I),N=Object(h.b)((function(e){return e.publicacionesReducer}))((function(e){if(e.com_error)return Object(d.jsx)(R,{mensaje:e.com_error});if(e.com_cargando&&!e.comentarios.length)return Object(d.jsx)(C,{});return Object(d.jsx)("ul",{children:e.comentarios.map((function(e){return Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:Object(d.jsx)("u",{children:e.email})}),Object(d.jsx)("br",{}),e.body]},e.id)}))})})),A=t(19),E=t(2),P="publicaciones_actualizar",z="publicaciones_cargando",D="publicaciones_error",M="comentarios_actualizar",S="comentarios_cargando",F="comentarios_error",G=w,J=function(e){return function(){var r=Object(x.a)(m.a.mark((function r(t,a){var n,c,o,s,i,u,d,b;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:z}),n=a().usuariosReducer.usuarios,c=a().publicacionesReducer.publicaciones,o=n[e].id,r.prev=4,r.next=7,v.a.get("https://jsonplaceholder.typicode.com/posts?userId=".concat(o));case 7:s=r.sent,i=s.data.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{comentarios:[],abierto:!1})})),u=[].concat(Object(A.a)(c),[i]),d=u.length-1,(b=Object(A.a)(n))[e]=Object(E.a)(Object(E.a)({},n[e]),{},{publicaciones_key:d}),t({type:"usuarios_traer_todos",payload:b}),t({type:P,payload:u}),r.next=21;break;case 17:r.prev=17,r.t0=r.catch(4),console.log("Error: ",r.t0.message),t({type:D,payload:"Publicaciones no disponibles"});case 21:case"end":return r.stop()}}),r,null,[[4,17]])})));return function(e,t){return r.apply(this,arguments)}}()},B=function(e,r){return function(t,a){var n=a().publicacionesReducer.publicaciones,c=n[e][r],o=Object(E.a)(Object(E.a)({},c),{},{abierto:!c.abierto}),s=Object(A.a)(n);s[e]=Object(A.a)(n[e]),s[e][r]=o,t({type:P,payload:s})}},q=function(e,r){return function(){var t=Object(x.a)(m.a.mark((function t(a,n){var c,o,s,i,u;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:S}),c=n().publicacionesReducer.publicaciones,o=c[e][r],t.prev=3,t.next=6,v.a.get("https://jsonplaceholder.typicode.com/comments?postId=".concat(o.id));case 6:s=t.sent,i=Object(E.a)(Object(E.a)({},o),{},{comentarios:s.data}),(u=Object(A.a)(c))[e]=Object(A.a)(c[e]),u[e][r]=i,a({type:M,payload:u}),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),console.log("Error: ",t.t0.message),a({type:F,payload:"Comentarios no disponibles"});case 18:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(e,r){return t.apply(this,arguments)}}()},H=function(e){Object(j.a)(t,e);var r=Object(O.a)(t);function t(){var e;Object(p.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=r.call.apply(r,[this].concat(n))).ponerUsuario=function(){var r=e.props,t=r.usuariosReducer,a=r.match.params.key;if(t.error)return Object(d.jsx)(R,{mensaje:t.error});if(!t.usuarios.length||t.cargando)return Object(d.jsx)(C,{});var n=t.usuarios[a].name;return Object(d.jsxs)("h1",{children:["Publicaciones de ",n]})},e.ponerPublicaciones=function(){var r=e.props,t=r.usuariosReducer,a=r.usuariosReducer.usuarios,n=r.publicacionesReducer,c=r.publicacionesReducer.publicaciones,o=r.match.params.key;if(a.length&&!t.error){if(n.cargando)return Object(d.jsx)(C,{});if(n.error)return Object(d.jsx)(R,{mensaje:n.error});if(c.length&&"publicaciones_key"in a[o]){var s=a[o].publicaciones_key;return e.mostrarInfo(c,s)}}},e.mostrarInfo=function(r,t){return r[t].map((function(r,a){return Object(d.jsxs)("div",{className:"pub_titulo",onClick:function(){return e.mostrarComentarios(t,a,r.comentarios)},children:[Object(d.jsx)("h2",{children:r.title}),Object(d.jsx)("h4",{children:r.body}),r.abierto?Object(d.jsx)(N,{comentarios:r.comentarios}):""]},r.id)}))},e.mostrarComentarios=function(r,t,a){e.props.abrirCerrar(r,t),a.length||e.props.traerComentarios(r,t)},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(x.a)(m.a.mark((function e(){var r,t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props,t=r.usuariosTraerTodos,a=r.publicacionesTraerPorUsuario,n=r.match.params.key,this.props.usuariosReducer.usuarios.length){e.next=4;break}return e.next=4,t();case 4:if(!this.props.usuariosReducer.error){e.next=6;break}return e.abrupt("return");case 6:"publicaciones_key"in this.props.usuariosReducer.usuarios[n]||a(n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[this.ponerUsuario(),this.ponerPublicaciones()]})}}]),t}(c.Component),K={usuariosTraerTodos:G,publicacionesTraerPorUsuario:J,abrirCerrar:B,traerComentarios:q},L=Object(h.b)((function(e){return{usuariosReducer:e.usuariosReducer,publicacionesReducer:e.publicacionesReducer}}),K)(H),Q=t(25),V="tareas_traer_todas",W="tareas_cargando",X="tareas_error",Y="tareas_cambio_usuario_id",Z="tareas_cambio_ua",$="tarea_agregada",ee="tareas_actualizar",re="tareas_limpiar",te=function(){return function(){var e=Object(x.a)(m.a.mark((function e(r){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:W}),e.prev=1,e.next=4,v.a.get("https://jsonplaceholder.typicode.com/todos");case 4:t=e.sent,a={},t.data.map((function(e){return a[e.userId]=Object(E.a)(Object(E.a)({},a[e.userId]),{},Object(Q.a)({},e.id,Object(E.a)({},e)))})),r({type:V,payload:a}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.message),r({type:X,payload:"Tareas no disponibles."});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(r){return e.apply(this,arguments)}}()},ae=function(e){return function(r){r({type:Y,payload:e})}},ne=function(e){return function(r){r({type:Z,payload:e})}},ce=function(e){return function(){var r=Object(x.a)(m.a.mark((function r(t){return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:W}),r.prev=1,r.next=4,v.a.post("https://jsonplaceholder.typicode.com/todos",e);case 4:t({type:$}),r.next=11;break;case 7:r.prev=7,r.t0=r.catch(1),console.log(r.t0.message),t({type:X,payload:"Servicio no disponible en este momento."});case 11:case"end":return r.stop()}}),r,null,[[1,7]])})));return function(e){return r.apply(this,arguments)}}()},oe=function(e){return function(){var r=Object(x.a)(m.a.mark((function r(t){return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:W}),r.prev=1,r.next=4,v.a.put("https://jsonplaceholder.typicode.com/todos/".concat(e.id),e);case 4:t({type:$}),r.next=11;break;case 7:r.prev=7,r.t0=r.catch(1),console.log(r.t0.message),t({type:X,payload:"Servicio no disponible en este momento."});case 11:case"end":return r.stop()}}),r,null,[[1,7]])})));return function(e){return r.apply(this,arguments)}}()},se=function(e,r){return function(t,a){var n=a().tareasReducer.tareas,c=n[e][r],o=Object(E.a)({},n);o[e]=Object(E.a)({},n[e]),o[e][r]=Object(E.a)(Object(E.a)({},n[e][r]),{},{completed:!c.completed}),t({type:ee,payload:o})}},ie=function(e){return function(){var r=Object(x.a)(m.a.mark((function r(t){return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:W}),r.prev=1,r.next=4,v.a.delete("https://jsonplaceholder.typicode.com/todos/".concat(e.id));case 4:r.sent,t({type:V,payload:{}}),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(1),console.log(r.t0.message),t({type:X,payload:"Servicio no disponible"});case 12:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e){return r.apply(this,arguments)}}()},ue=function(){return function(e){e({type:re})}},de=function(e){Object(j.a)(t,e);var r=Object(O.a)(t);function t(){var e;Object(p.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=r.call.apply(r,[this].concat(n))).mostrarContenido=function(){var r=e.props,t=r.tareas,a=r.cargando,n=r.error;return n?Object(d.jsx)(R,{mensaje:n}):a?Object(d.jsx)(C,{}):Object.keys(t).map((function(r){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("h2",{children:["Usuario ",r]}),e.ponerTareas(r)]},r)}))},e.ponerTareas=function(r){var t=e.props,a=t.tareas,n=t.cambioCheck,c=t.eliminar,o=Object(E.a)({},a[r]);return Object.keys(o).map((function(e){return Object(d.jsxs)("div",{className:"contenedor_tareas",children:[Object(d.jsx)("input",{type:"checkbox",defaultChecked:o[e].completed,onChange:function(){return n(r,e)}}),o[e].title,Object(d.jsx)("button",{className:"m_left",children:Object(d.jsx)(i.b,{to:"/blog_react_redux/tareas/guardar/".concat(r,"/").concat(e),children:" Editar "})}),Object(d.jsx)("button",{onClick:function(){return c(e)},children:"Eliminar"})]},e)}))},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){Object.keys(this.props.tareas).length||this.props.traerTodas()}},{key:"componentDidUpdate",value:function(){var e=this.props,r=e.tareas,t=e.cargando,a=e.traerTodas;Object.keys(r).length||t||a()}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{children:Object(d.jsx)(i.b,{to:"/blog_react_redux/tareas/guardar",children:"Agregar"})}),this.mostrarContenido()]})}}]),t}(c.Component),be=Object(h.b)((function(e){return e.tareasReducer}),n)(de),pe=function(e){Object(j.a)(t,e);var r=Object(O.a)(t);function t(){var e;Object(p.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=r.call.apply(r,[this].concat(n))).cambioUsuarioId=function(r){e.props.cambioUsuarioId(r.target.value)},e.cambioTitulo=function(r){e.props.cambioTitulo(r.target.value)},e.guardar=function(){var r=e.props,t=r.match.params,a=t.usu_id,n=t.tar_id,c=r.tareas,o=r.usuario_id,s=r.titulo,i=r.agregar,u=r.editar,d={userId:o,title:s,completed:!1};if(a&&n){var b=c[a][n];u(Object(E.a)(Object(E.a)({},d),{},{completed:b.completed,id:b.id}))}else i(d)},e.deshabilitar=function(){var r=e.props,t=r.usuario_id,a=r.titulo;return!!r.cargando||(!t||!a)},e.mostrarAccion=function(){var r=e.props,t=r.error;return r.cargando?Object(d.jsx)(C,{}):t?Object(d.jsx)(R,{mensaje:t}):void 0},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,r=e.match.params,t=r.usu_id,a=r.tar_id,n=e.tareas,c=e.cambioUsuarioId,o=e.cambioTitulo,s=e.limpiarForma;if(t&&a){var i=n[t][a];c(i.userId),o(i.title)}else s()}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[this.props.regresar&&Object(d.jsx)(u.a,{to:"/blog_react_redux/tareas"}),Object(d.jsx)("h1",{children:"Guardar Tarea"}),"Usuario id:",Object(d.jsx)("input",{type:"number",value:this.props.usuario_id,onChange:this.cambioUsuarioId}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),"T\xedtulo:",Object(d.jsx)("input",{value:this.props.titulo,onChange:this.cambioTitulo}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{disabled:this.deshabilitar(),onClick:this.guardar,children:"Guardar"}),this.mostrarAccion()]})}}]),t}(c.Component),le=Object(h.b)((function(e){return e.tareasReducer}),n)(pe),je=function(){return Object(d.jsxs)(i.a,{children:[Object(d.jsx)(b,{}),Object(d.jsxs)("div",{className:"contenedor",children:[Object(d.jsx)(u.b,{exact:!0,path:"/blog_react_redux/",component:U}),Object(d.jsx)(u.b,{exact:!0,path:"/blog_react_redux/tareas",component:be}),Object(d.jsx)(u.b,{exact:!0,path:"/blog_react_redux/publicaciones/:key",component:L}),Object(d.jsx)(u.b,{exact:!0,path:"/blog_react_redux/tareas/guardar",component:le}),Object(d.jsx)(u.b,{exact:!0,path:"/blog_react_redux/tareas/guardar/:usu_id/:tar_id",component:le})]})]})},Oe=t(22),he=t(38),fe={usuarios:[],cargando:!1,error:""},me={publicaciones:[],cargando:!1,error:"",com_cargando:!1,com_error:""},xe={tareas:{},cargando:!1,error:"",usuario_id:"",titulo:"",regresar:!1},ye=Object(Oe.b)({usuariosReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case g:return Object(E.a)(Object(E.a)({},e),{},{usuarios:r.payload,cargando:!1,error:""});case _:return Object(E.a)(Object(E.a)({},e),{},{cargando:!0});case k:return Object(E.a)(Object(E.a)({},e),{},{error:r.payload,cargando:!1});default:return e}},publicacionesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case P:return Object(E.a)(Object(E.a)({},e),{},{publicaciones:r.payload,cargando:!1,error:""});case z:return Object(E.a)(Object(E.a)({},e),{},{cargando:!0});case D:return Object(E.a)(Object(E.a)({},e),{},{error:r.payload,cargando:!1});case M:return Object(E.a)(Object(E.a)({},e),{},{publicaciones:r.payload,com_cargando:!1,com_error:""});case S:return Object(E.a)(Object(E.a)({},e),{},{com_cargando:!0});case F:return Object(E.a)(Object(E.a)({},e),{},{com_error:r.payload,com_cargando:!1});default:return e}},tareasReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case V:return Object(E.a)(Object(E.a)({},e),{},{tareas:r.payload,cargando:!1,error:"",regresar:!1,usuario_id:""});case W:return Object(E.a)(Object(E.a)({},e),{},{cargando:!0});case X:return Object(E.a)(Object(E.a)({},e),{},{error:r.payload,cargando:!1});case Y:return Object(E.a)(Object(E.a)({},e),{},{usuario_id:r.payload});case Z:return Object(E.a)(Object(E.a)({},e),{},{titulo:r.payload});case $:return Object(E.a)(Object(E.a)({},e),{},{tareas:{},cargando:!1,error:"",regresar:!0});case ee:return Object(E.a)(Object(E.a)({},e),{},{tareas:r.payload});case re:return Object(E.a)(Object(E.a)({},e),{},{usuario_id:"",titulo:" "});default:return e}}}),ve=Object(Oe.c)(ye,{},Object(Oe.a)(he.a));s.a.render(Object(d.jsx)(h.a,{store:ve,children:Object(d.jsx)(je,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.2bbff5b2.chunk.js.map